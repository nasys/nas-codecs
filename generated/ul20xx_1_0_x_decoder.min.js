function stringFromUTF8Array(e){for(var t=[1,1,1,1,2,2,3,0],r=e.length,i="",n=0;n<r;){var a=e[n++];if(128&a){var s=t[a>>3&7];if(!(64&a)||!s||n+s>r)return null;for(a&=63>>s;s>0;s-=1){var o=e[n++];if(128!=(192&o))return null;a=a<<6|63&o}}i+=String.fromCharCode(a)}return i}function BitExtract(e){this.data=e,this.offset=0}function BinaryExtract(e){this.buffer=e,this.offset=0}function pad(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}function intToHexStr(e,t){return pad(e.toString(16).toUpperCase(),t)}function bytesToHexStr(e){for(var t="",r=0;r<e.length;r+=1)t+=("00"+e[r].toString(16)).slice(-2).toUpperCase();return t}function profileReason(e,t){if(e<240)return e;switch(e){case 247:return"calendar_active";case 248:return"init_active";case 249:return"profile_not_active";case 254:return"value_differ";case 246:return"driver_not_found";case 250:return"ldr_input_active";case 252:return"dig_input_active";case 253:return"manual_active";case 255:return"unknown";default:return t.errors.push("invalid_reason"),"invalid_reason"}}function addressParse(e,t,r){return 1===e?"analog_0_10v":254===e?"dali_broadcast":255===e?t||(r.warnings.push("invalid_address"),"invalid"):1&e?(r.warnings.push("invalid_address"),"invalid"):128&e?"dali_group_"+(e>>1&15).toString():"dali_single_"+(e>>1&63).toString()}function profileParserPartial(e,t,r){var i=e.getUint8();t.profile_id=255===i?"no_profile":i;var n=e.getUint8();t.profile_version=profileReason(n,r);var a=e.getUint8();t.address=addressParse(a,"all_devices",r);var s=new BitExtract(e.getUint8()),o=[];return s.getBits(1)&&o.push("holiday"),s.getBits(1)&&o.push("mon"),s.getBits(1)&&o.push("tue"),s.getBits(1)&&o.push("wed"),s.getBits(1)&&o.push("thu"),s.getBits(1)&&o.push("fri"),s.getBits(1)&&o.push("sat"),s.getBits(1)&&o.push("sun"),t.days_active=o,0}function decodeUnixEpoch(e,t){var r=new Date(1e3*e).toISOString();return e<1420070400&&(r="invalid_timestamp",t.warnings.push("invalid_timestamp")),r}function decodeLdrConfig(e,t){t.packet_type="deprecated_ldr_input_config_packet";var r=e.getUint8();t.ldr_off_threshold_high=255===r?"disabled":r;var i=e.getUint8();t.ldr_on_threshold_low=255===i?"disabled":i;var n=e.getUint8Bits();n.getBits(2),t.trigger_alert_enabled=n.getBits(1)}function decodeDimmingLevel(e,t){return 255===e?t:e}function decodeDigConfig(e,t,r){t.packet_type="deprecated_dig_input_config_packet";var i=e.getUint16();t.light_on_duration__s=65535===i?"dig_input_disabled":i;var n=e.getUint8Bits();n.getBits(1),t.signal_edge_rising=n.getBits(1),t.trigger_alert_enabled=n.getBits(1),t.address=addressParse(e.getUint8(),"all_devices",r),t.dimming_level__percent=decodeDimmingLevel(e.getUint8(),"disabled")}function decodeStepTime(e){var t=10*e,r=Math.trunc(t/60),i=t-60*r;return pad(r,2)+":"+pad(i,2)}function decodeOdRelaySwStep(e){var t={};t.step_time=decodeStepTime(e.getUint8());var r=0!==e.getUint8();return t.open_drain_output_on=r,t}function decodeCalendarConfigV10(e,t){t.packet_type="calendar_config_packet";var r=e.getInt8(),i=e.getInt8(),n=e.getInt16()/100,a=e.getInt16()/100,s=-1===r&&-1===i;t.sunrise_offset__minutes=s?"disabled":r,t.sunset_offset__minutes=s?"disabled":i,t.latitude__deg=n,t.longitude__deg=a}function decodeStatusConfig(e,t){t.packet_type="status_config_packet",t.status_interval__s=e.getUint32()}function decodeDimmingStep(e){var t={};return t.step_time=decodeStepTime(e.getUint8()),t.dimming_level__percent=decodeDimmingLevel(e.getUint8(),"inactive"),t}function decodeProfileConfig(e,t,r){for(t.packet_type="profile_config_packet",profileParserPartial(e,t,r),t.dimming_steps=[];e.availableLen();)t.dimming_steps.push(decodeDimmingStep(e))}function decodeTimeConfig(e,t,r){t.packet_type="time_config_packet";var i=e.getUint32();t.device_unix_epoch=decodeUnixEpoch(i,r)}function decodeLegacyDefaultsConfig(e,t){t.packet_type="legacy_defaults_config_packet",t.default_dim__percent=e.getUint8();var r=e.getUint8Bits();t.ldr_alert_enabled=r.getBits(1),r.getBits(1),t.dig_alert_enabled=r.getBits(1),t.dali_alert_enabled=r.getBits(1)}function decodeUsageConfig(e,t){t.packet_type="usage_config_packet";var r=e.getUint32(),i=e.getUint8();t.usage_interval__s=r,255!==i&&(t.mains_voltage__V=i)}function decodeMonthDay(e){return pad(e.getUint8(),2)+"/"+pad(e.getUint8(),2)}function decodeHolidayConfig(e,t){for(t.packet_type="holiday_config_packet",t.holidays=[];e.availableLen();)t.holidays.push(decodeMonthDay(e))}function decodeBootDelayConfig(e,t){t.packet_type="boot_delay_config_packet";var r=1===e.availableLen()?e.getUint8():e.getUint16();t.boot_delay_range__s=r}function decodeFade(e,t){return 255===e?"ignore":e>=16?(t.errors.push("invalid_fade"),"invalid_fade"):[.5,.71,1,1.41,2,2.83,4,5.66,8,11.31,16,22.63,32,45.25,64,90.51][e]}function decodeDefaultsConfig(e,t,r){t.packet_type="defaults_config_packet";var i=e.getUint8Bits(),n=i.getBits(1),a=i.getBits(1),s=i.getBits(1),o=i.getBits(1),d=i.getBits(1);if(n&&(t.default_dim__percent=e.getUint8()),a){var _=e.getUint8();t.max_dim__percent=255===_?"default":_}if(s){var c=e.getUint8();t.fade_duration__s=decodeFade(c,r)}o&&(t.switch_point_sunset=e.getUint8Bits().getBits(1)?"sunset":"twilight"),d&&(t.legacy_mode_enabled=e.getUint8Bits().getBits(1))}function decodeLocationConfigV10(e,t){t.packet_type="location_config_packet";var r=e.getUint8Bits(),i=r.getBits(1),n=r.getBits(1);i&&(t.latitude__deg=e.getInt32()/1e7,t.longitude__deg=e.getInt32()/1e7),n&&(t.address=e.getTextUtf8(e.getUint8()))}function decodeLedConfig(e,t){t.packet_type="onboard_led_config_packet";var r=e.getUint8Bits().getBits(1);t.status_led_enabled=r}function alertParamConfig(e,t){return e===t?"alert_off":e}function decodeMeteringAlertConfig(e,t,r){if(t.packet_type="metering_alert_config_packet",1===e.getUint8()){var i=e.getUint16(),n=e.getUint16(),a=e.getUint16(),s=e.getUint16(),o=e.getUint8();t.min_power__W=alertParamConfig(i,65535),t.max_power__W=alertParamConfig(n,65535),t.min_voltage__V=alertParamConfig(a,65535),t.max_voltage__V=alertParamConfig(s,65535),t.min_power_factor=255===o?"alert_off":o/100}else r.errors.push("invalid_packet_type")}function decodeMulticastConfig(e,t,r){t.packet_type="multicast_config_packet";var i=e.getUint8();0===i||i>4?r.errors.push("invalid_multicast_device"):(t.multicast_device=i,t.devaddr=bytesToHexStr(e.getRaw(4).reverse()),t.nwkskey=bytesToHexStr(e.getRaw(16)),t.appskey=bytesToHexStr(e.getRaw(16)))}function decodeClearConfig(e,t,r){switch(t.packet_type="clear_config_packet",e.getUint8()){case 1:t.reset_target="ldr_input_config";break;case 3:t.reset_target="dig_input_config";break;case 4:t.reset_target="profile_config",t.address=addressParse(e.getUint8(),"all_profiles",r),e.availableLen()&&(t.profile_id=e.getUint8());break;case 6:t.reset_target="holiday_config";break;case 82:t.reset_target="multicast_config";var i=e.getUint8();t.multicast_device=255===i?"all_multicast_devices":"multicast_device_"+i;break;case 255:t.reset_target="factory_reset",t.device_serial=intToHexStr(e.getUint32(),8);break;default:r.errors.push("invalid_clear_config_target")}}function decodeFport50(e,t,r){switch(e.getUint8()){case 1:return void decodeLdrConfig(e,t);case 3:return void decodeDigConfig(e,t,r);case 5:for(t.packet_type="open_drain_output_config_packet",t.switching_steps=[];e.availableLen();)t.switching_steps.push(decodeOdRelaySwStep(e));return;case 7:return void decodeStatusConfig(e,t);case 9:return void decodeTimeConfig(e,t,r);case 11:return void decodeUsageConfig(e,t);case 13:return void decodeBootDelayConfig(e,t);case 21:return void decodeLedConfig(e,t);case 22:return void decodeMeteringAlertConfig(e,t,r);case 82:return void decodeMulticastConfig(e,t,r);case 255:return void decodeClearConfig(e,t,r);case 6:return void decodeCalendarConfigV10(e,t);case 8:return void decodeProfileConfig(e,t,r);case 10:return void decodeLegacyDefaultsConfig(e,t);case 12:return void decodeHolidayConfig(e,t);case 14:return void decodeDefaultsConfig(e,t,r);case 19:return void decodeLocationConfigV10(e,t);default:r.errors.push("invalid_packet_type")}}function daliStatus(e,t,r){var i={driver_error:!1,lamp_failure:!1,lamp_on:!1,limit_error:!1,fade_running:!1,reset_state:!1,missing_short_address:!1,power_failure:!1};if(255===e.data)return i;var n=e.getBits(1);i.driver_error=n;var a=e.getBits(1);i.lamp_failure=a,i.lamp_on=e.getBits(1);var s=e.getBits(1);i.limit_error=s,i.fade_running=e.getBits(1);var o=e.getBits(1);i.reset_state=o;var d=e.getBits(1);i.missing_short_address=d;var _=e.getBits(1);return i.power_failure=_,n&&r.warnings.push(t+" driver_error"),a&&r.warnings.push(t+" lamp_failure"),s&&r.warnings.push(t+" limit_error"),o&&r.warnings.push(t+" reset_state"),_&&r.warnings.push(t+" power_failure"),i}function decodeDaliStatus(e,t){var r={},i=addressParse(e.getUint8(),null,t);return r.address=i,r.status=daliStatus(e.getUint8Bits(),i,t),r}function decodeDaliStatusReq(e,t,r){if(t.packet_type="dali_status_request",1===e.availableLen()){var i=e.getUint8();t.address=254===i?"all_drivers":addressParse(i,null,r)}else for(t.dali_statuses=[];e.availableLen();)t.dali_statuses.push(decodeDaliStatus(e,r))}function decodeDimming(e,t){var r={};return r.address=addressParse(e.getUint8(),"all_devices",t),r.dimming_level__percent=decodeDimmingLevel(e.getUint8(),"resume"),r}function decodeDimmingCommand(e,t,r){for(t.packet_type="manual_dimming",t.destination=[];e.availableLen();)t.destination.push(decodeDimming(e,r))}function decodeCustomDaliReq(e,t,r){t.packet_type="custom_dali_request";var i=e.offset;if(t.query_data_raw=bytesToHexStr(e.getRaw(e.availableLen())),e.offset=i,e.availableLen()>3)e.getRaw(e.availableLen());else{var n=e.getUint8();t.address=addressParse(n,null,r),t.dali_query=e.getUint8(),1===e.availableLen()&&(t.dali_response=e.getUint8())}}function decodeCustomDaliCommand(e,t){t.packet_type="custom_dali_command",t.dali_command=bytesToHexStr(e.getRaw(e.availableLen()))}function decodeStatusRequest(e,t,r){t.packet_type="status_usage_request";var i=e.getUint8Bits();t.usage_requested=i.getBits(1),t.status_requested=i.getBits(1)}function decodeDigVal(e){return 0===e?"off":1===e?"on":255===e?"n/a":"invalid_value"}function decodeInterfacesRequest(e,t,r){if(t.packet_type="interface_request",1!==e.availableLen()){var i=e.getUint8(),n=e.getUint8(),a=e.getUint8(),s=e.getUint8(),o=e.getUint8();e.getUint8();var d=e.getUint8(),_=e.getUint8Bits();1===i&&2===a&&3===o&&4===d?(t.dig=decodeDigVal(n),t.ldr=255===s?"n/a":s,t.internal_relay_closed=_.getBits(1),t.open_drain_output_on=_.getBits(1)):r.errors.push("invalid_interface")}else e.getUint8()}function decodeDriverMemoryPartial(e,t,r){t.address=addressParse(e.getUint8(),null,r),t.memory_bank=e.getUint8(),t.memory_address=e.getUint8()}function decodeDriverMemoryPartialSized(e,t,r){decodeDriverMemoryPartial(e,t,r);var i=e.getUint8();return t.read_size__bytes=i,i}function decodeReadDriverMemory(e,t,r){if(t.packet_type="driver_memory_read",0!==e.availableLen()){var i=decodeDriverMemoryPartialSized(e,t,r);if(e.availableLen()){var n=e.getRaw(i);t.memory_value=bytesToHexStr(n)}}else r.warnings.push("driver_memory_read_failed")}function decodeWriteDriverMemory(e,t,r){t.packet_type="driver_memory_write",0!==e.availableLen()?(decodeDriverMemoryPartial(e,t),t.memory_value=bytesToHexStr(e.getRaw(e.availableLen()))):r.warnings.push("driver_memory_write_failed")}function decodeTimedDimming(e,t){var r={};return r.address=addressParse(e.getUint8(),"all_devices",t),r.dimming_level__percent=decodeDimmingLevel(e.getUint8(),"resume"),r.duration__minutes=e.getUint8(),r}function decodeTimedDimmingCommand(e,t,r){for(t.packet_type="manual_timed_dimming",t.destination=[];e.availableLen();)t.destination.push(decodeTimedDimming(e,r))}function decodeOpenDrainSwitching(e,t){t.packet_type="open_drain_output_control",t.open_drain_output_on=e.getUint8Bits().getBits(1)}function decodeFport60(e,t,r){switch(e.getUint8()){case 1:return void decodeDimmingCommand(e,t,r);case 3:return void decodeCustomDaliReq(e,t,r);case 4:return void decodeCustomDaliCommand(e,t);case 5:return void decodeStatusRequest(e,t);case 7:return void decodeReadDriverMemory(e,t,r);case 8:return void decodeWriteDriverMemory(e,t,r);case 9:return void decodeTimedDimmingCommand(e,t,r);case 12:return void decodeOpenDrainSwitching(e,t);case 0:return void decodeDaliStatusReq(e,t,r);case 6:return void decodeInterfacesRequest(e,t,r);default:r.errors.push("invalid_command")}}function statusProfileParser(e,t){var r={};profileParserPartial(e,r,t);var i=e.getUint8();return r.dimming_level__percent=decodeDimmingLevel(i,"resume"),r}function statusParser1_0(e,t,r){t.packet_type="status_packet";var i=e.getUint32();t.device_unix_epoch=decodeUnixEpoch(i,r);var n={},a=e.getUint8Bits(),s=a.getBits(1),o=a.getBits(1),d=a.getBits(1);a.getBits(1);var _=a.getBits(1),c=a.getBits(1);a.getBits(1);var u=a.getBits(1);n.dali_error_external=s,s&&r.warnings.push("dali_external_error"),n.dali_connection_error=o,o&&r.warnings.push("dali_connection_error"),n.hardware_error=c,c&&r.warnings.push("hardware_error"),n.internal_relay_closed=u,n.ldr_input_on=d,n.dig_input_on=_,t.status=n,t.downlink_rssi__dBm=-1*e.getUint8(),t.downlink_snr__dB=e.getInt8(),t.mcu_temperature__C=e.getInt8();var g={},l=e.getUint8Bits();l.getBits(1);var p=l.getBits(1),f=l.getBits(1);for(l.getBits(1),t.status.open_drain_output_on=f,g.voltage_alert_in_24h=l.getBits(1),g.lamp_error_alert_in_24h=l.getBits(1),g.power_alert_in_24h=l.getBits(1),g.power_factor_alert_in_24h=l.getBits(1),t.analog_interfaces=g,p&&(t.ldr_input_value=e.getUint8()),t.profiles=[];e.availableLen();)t.profiles.push(statusProfileParser(e,r))}function usageConsumptionParse(e,t){var r={},i=e.getUint8();r.address=addressParse(i,"internal_measurement",t);var n=e.getUint8Bits();if(n.getBits(1)&&(r.active_energy__Wh=e.getUint32()),n.getBits(1)&&(r.active_power__W=e.getUint16()),n.getBits(1)&&(r.load_side_energy__Wh=e.getUint32()),n.getBits(1)&&(r.load_side_power__W=e.getUint16()),n.getBits(1)){var a=e.getUint8();r.power_factor=255===a?"unknown":a/100}if(n.getBits(1)&&(r.mains_voltage__V=e.getUint8()),n.getBits(1)&&(r.driver_operating_time__h=Math.round(e.getUint32()/3600)),n.getBits(1)){var s=e.getUint32();r.lamp_on_time__s=s}return r}function usageParser(e,t,r){for(t.packet_type="usage_packet",t.consumption=[];e.availableLen();)t.consumption.push(usageConsumptionParse(e,r))}function deviceConfigParser(e,t){switch(e){case 0:return"dali";case 1:return"dali_nc";case 2:return"dali_no";case 3:return"analog_nc";case 4:return"analog_no";case 5:return"dali_analog_nc";case 6:return"dali_analog_no";case 7:return"dali_analog_nc_no";default:return t.errors.push("invalid_device_config"),"invalid_config"}}function optionalFeaturesParser(e){var t={},r=new BitExtract(e);return r.getBits(1),r.getBits(1),t.dig_input=r.getBits(1),t.ldr_input=r.getBits(1),t.open_drain_output=r.getBits(1),t.metering=r.getBits(1),r.getBits(1),r.getBits(1),t}function daliSupplyParse(e,t){if(e<112)return e;switch(e){case 126:return"bus_high";case 127:return t.warnings.push("dali_bus_error"),"bus_error";default:return"invalid_value"}}function resetReasonParse(e,t){var r=[],i=new BitExtract(e);return i.getBits(1)&&r.push("reset_0"),i.getBits(1)&&(r.push("watchdog_reset"),t.warnings.push("watchdog_reset")),i.getBits(1)&&r.push("soft_reset"),i.getBits(1)&&r.push("reset_3"),i.getBits(1)&&r.push("reset_4"),i.getBits(1)&&r.push("reset_5"),i.getBits(1)&&r.push("reset_6"),i.getBits(1)&&r.push("reset_7"),r}function bootParser(e,t,r){t.packet_type="boot_packet",t.device_serial=intToHexStr(e.getUint32(),8),t.firmware_version=e.getUint8()+"."+e.getUint8()+"."+e.getUint8(),t.device_unix_epoch=decodeUnixEpoch(e.getUint32(),r),t.device_config=deviceConfigParser(e.getUint8(),r),t.optional_features=optionalFeaturesParser(e.getUint8());var i=e.getUint8Bits();t.dali_supply_state__V=daliSupplyParse(i.getBits(7),r),t.dali_power_source_external=i.getBits(1)?"external":"internal";var n=e.getUint8Bits();t.dali_addressed_driver_count=n.getBits(7);var a=n.getBits(1);t.dali_unadressed_driver_found=a,a&&r.warnings.push("unadressed_dali_driver_on_bus"),e.availableLen()&&(t.reset_reason=resetReasonParse(e.getUint8(),r))}function errorCodeParser(e){switch(e){case 0:case 1:return"n/a";case 2:return"unknown_fport";case 3:return"packet_size_short";case 4:return"packet_size_long";case 5:return"value_error";case 6:return"protocol_parse_error";case 7:return"reserved_flag_set";case 8:return"invalid_flag_combination";case 9:return"unavailable_feature_request";case 10:return"unsupported_header";case 11:return"unreachable_hw_request";case 12:return"address_not_available";case 13:return"internal_error";case 14:return"packet_size_error";case 129:return"profile_id_seq_error";case 130:return"profile_destination_eror";case 131:return"profile_days_error";case 132:return"profile_step_count_error";case 133:return"profile_step_value_error";case 134:return"profile_step_unsorted_error";default:return"invalid_error_code"}}function configFailedParser(e,t,r){t.packet_type="invalid_downlink_packet",t.downlink_from_fport=e.getUint8();var i=errorCodeParser(e.getUint8());t.error_reason=i,r.warnings.push("downlink_error "+i)}function decodeFport99(e,t,r){switch(e.getUint8()){case 0:return void bootParser(e,t,r);case 19:return void configFailedParser(e,t,r);default:r.errors.push("invalid_packet_type")}}function decodeFport61(e,t,r){var i=e.getUint8(),n=e.getUint8(),a=n>>4;switch(i){case 128:if(t.packet_type="dig_input_alert",r.warnings.push("dig_input_alert"),2===a)t.dig_input_event_counter=e.getUint16();else if(4===a){var s=new BitExtract(n);t.dig_input_on=s.getBits(1),t.dig_input_event_counter=e.getUint32()}else r.errors.push("invalid_packet_length");return;case 129:if(t.packet_type="ldr_input_alert",2!==a)return void r.errors.push("invalid_packet_length");r.warnings.push("ldr_input_alert");var o=e.getUint8Bits().getBits(1),d=e.getUint8();return t.ldr_input_on=o,void(t.ldr_input_value=d);case 131:for(t.packet_type="dali_driver_alert",t.drivers=[];e.availableLen();)t.drivers.push(decodeDaliStatus(e,r));return;case 132:t.packet_type="metering_alert";var _=new BitExtract(n),c=_.getBits(1),u=_.getBits(1),g=_.getBits(1),l=_.getBits(1),p=_.getBits(1);return t.lamp_error_alert=c,t.over_current_alert=u,t.under_voltage_alert=g,t.over_voltage_alert=l,t.low_power_factor_alert=p,c&&r.warnings.push("metering_lamp_error"),u&&r.warnings.push("metering_over_current"),g&&r.warnings.push("metering_under_voltage"),l&&r.warnings.push("metering_over_voltage"),p&&r.warnings.push("metering_low_power_factor"),t.power__W=e.getUint16(),t.voltage__V=e.getUint16(),void(t.power_factor=e.getUint8()/100);default:r.errors.push("invalid_packet_type")}}function decodeFport49(e,t,r){switch(e.getUint8()){case 1:return void(t.packet_type="deprecated_ldr_input_config_request");case 3:return void(t.packet_type="deprecated_dig_input_config_request");case 7:return void(t.packet_type="status_config_request");case 9:return void(t.packet_type="time_config_packet");case 11:return void(t.packet_type="usage_config_request");case 13:return void(t.packet_type="boot_delay_config_request");case 21:return void(t.packet_type="onboard_led_config_request");case 22:return void(t.packet_type="metering_alert_confic_request");case 82:t.packet_type="multicast_config_request";var i=e.getUint8();return void(t.multicast_device=255===i?"all":i);case 6:return void(t.packet_type="calendar_config_request");case 8:t.packet_type="profile_config_request";var n=e.getUint8();return void(t.profile_id=255===n?"all_profiles":n);case 10:return void(t.packet_type="default_dim_config_request");case 12:return void(t.packet_type="holiday_config_request");case 14:return void(t.packet_type="defaults_config_request");case 19:return void(t.packet_type="location_config_request");default:r.errors.push("invalid_packet_type")}}function decodeFport51(e,t,r){255!==e.getUint8()?r.errors.push("invalid_command"):t.packet_type="activate_dfu_command"}function decodeByFport(e,t,r,i){var n=new BinaryExtract(t);0===n.availableLen()?i.errors.push("empty_payload"):24===e?statusParser1_0(n,r,i):25===e?usageParser(n,r,i):49===e?decodeFport49(n,r,i):50===e?decodeFport50(n,r,i):51===e?decodeFport51(n,r,i):60===e?decodeFport60(n,r,i):61===e?decodeFport61(n,r,i):99===e?decodeFport99(n,r,i):i.errors.push("invalid_fport"),0!==n.availableLen()&&i.errors.push("invalid_payload_length_long")}function decodeRaw(e,t){var r={},i={errors:[],warnings:[]};try{decodeByFport(e,t,r,i)}catch(e){i.errors.push(e.message)}return{data:r,errors:i.errors,warnings:i.warnings}}function decodeDownlink(e){return decodeRaw(e.fPort,e.bytes)}function decodeUplink(e){return decodeRaw(e.fPort,e.bytes)}function Decoder(e,t){return decodeRaw(t,e)}function Decode(e,t){return decodeRaw(e,t)}BitExtract.prototype._assertOnRemainingLength=function(e){if(0===e)throw Error("invalid zero length bit field");if(this.offset+e>8)throw Error("invalid number of bits extracted")},BitExtract.prototype.getBits=function(e){this._assertOnRemainingLength(e);var t=Math.pow(2,e)-1,r=this.data>>this.offset&t;return this.offset+=e,1===e?Boolean(r):r},BinaryExtract.prototype.availableLen=function(){return this.buffer.length-this.offset},BinaryExtract.prototype._assertOnRemainingLength=function(e){if(e>this.availableLen())throw Error("invalid buffer length: too short")},BinaryExtract.prototype.getUint8=function(){return this._assertOnRemainingLength(1),this.buffer[this.offset++]},BinaryExtract.prototype.getInt8=function(){var e=this.getUint8();return e>127?e-256:e},BinaryExtract.prototype.getUint16=function(){return this._assertOnRemainingLength(2),this.buffer[this.offset++]+256*this.buffer[this.offset++]},BinaryExtract.prototype.getInt16=function(){var e=this.getUint16();return e>32767?e-65536:e},BinaryExtract.prototype.getUint24=function(){return this._assertOnRemainingLength(3),this.buffer[this.offset++]+256*this.buffer[this.offset++]+65536*this.buffer[this.offset++]},BinaryExtract.prototype.getUint32=function(){return this._assertOnRemainingLength(4),this.buffer[this.offset++]+256*this.buffer[this.offset++]+65536*this.buffer[this.offset++]+16777216*this.buffer[this.offset++]},BinaryExtract.prototype.getInt32=function(){var e=this.getUint32();return e>2147483647?e-4294967296:e},BinaryExtract.prototype.getUint64=function(){return this.getUint32()+4294967296*this.getUint32()},BinaryExtract.prototype.getTextUtf8=function(e){this._assertOnRemainingLength(e);var t=stringFromUTF8Array(this.buffer.slice(this.offset,this.offset+e));return this.offset+=e,t},BinaryExtract.prototype.getUint8Bits=function(){return new BitExtract(this.getUint8())},BinaryExtract.prototype.getRaw=function(e){this._assertOnRemainingLength(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},BinaryExtract.prototype.getFloat=function(){var e=this.getUint32(),t=2147483648&e?-1:1,r=(e>>23&255)-127,i=8388607&e;if(128===r)return t*(i?Number.NaN:Number.POSITIVE_INFINITY);if(-127===r){if(0===i)return 0*t;r=-126,i/=1<<22}else i=(i|1<<23)/(1<<23);return t*i*Math.pow(2,r)};
